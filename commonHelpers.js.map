{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".form\")\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nloader.style.display = \"none\";\n\nconst getImages = (searchTerm) => {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"41530032-c682b7302a1559a8b9f540776\";\n\n    const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchTerm,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n})\n    return fetch(`${BASE_URL}?${searchParams}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(\"Request is not ok\");\n            }\n            return response.json()\n        }) \n};\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  gallery.innerHTML = \"\";\n  loader.style.display = \"inline-block\";\n\n  const inputValue = event.target.elements.search.value;\n\n  getImages(inputValue)\n    .then(response => {\n      loader.style.display = \"none\";\n\n      if (!response.hits.length) {\n        iziToast.error({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\",\n          messageSize: \"11\",\n          backgroundColor: \"#EF4040\",\n          messageColor: \"#FFF\"\n});\n      }\n      gallery.innerHTML = createMarkup(response.hits);\n      \n      let galleryPage = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      galleryPage.refresh();\n\n      form.reset();\n    }\n)\n    .catch((error) => {\n      loader.style.display = \"none\";\n      console.error(\"Error\");\n  })\n\n})\n\nconst createMarkup = (hits) => {\n  return hits.reduce((html, { largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => html + `\n            <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n              width=\"360\"\n            />\n          </a>\n          <div class=\"info\">\n            <div class=\"info-item\">\n              <h2>Likes</h2>\n              <p>${likes}</p>\n            </div>\n            <div class=\"info-item\">\n              <h2>Views</h2>\n              <p>${views}</p>\n            </div>\n            <div class=\"info-item\">\n              <h2>Comments</h2>\n              <p>${comments}</p>\n            </div>\n            <div class=\"info-item\">\n              <h2>Downloads</h2>\n              <p>${downloads}</p>\n            </div>\n          </div>\n        </li>`, \"\");\n}\n"],"names":["form","gallery","loader","getImages","searchTerm","BASE_URL","API_KEY","searchParams","response","event","inputValue","iziToast","createMarkup","SimpleLightbox","error","hits","html","largeImageURL","webformatURL","tags","likes","views","comments","downloads"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvB,MAAMC,EAAaC,GAAe,CAC9B,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAe,IAAI,gBAAgB,CACzC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EACG,OAAO,MAAM,GAAGC,KAAYE,GAAc,EACrC,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,mBAAmB,EAEvC,OAAOA,EAAS,KAAM,CAClC,CAAS,CACT,EAEAR,EAAK,iBAAiB,SAAWS,GAAU,CACzCA,EAAM,eAAc,EACpBR,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,eAEvB,MAAMQ,EAAaD,EAAM,OAAO,SAAS,OAAO,MAEhDN,EAAUO,CAAU,EACjB,KAAKF,GAAY,CAChBN,EAAO,MAAM,QAAU,OAElBM,EAAS,KAAK,QACjBG,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,YAAa,KACb,gBAAiB,UACjB,aAAc,MACxB,CAAC,EAEKV,EAAQ,UAAYW,EAAaJ,EAAS,IAAI,EAE5B,IAAIK,EAAe,aAAc,CACjD,SAAU,GACV,aAAc,MACd,aAAc,GACtB,CAAO,EACW,QAAO,EAEnBb,EAAK,MAAK,CACX,CACL,EACK,MAAOc,GAAU,CAChBZ,EAAO,MAAM,QAAU,OACvB,QAAQ,MAAM,OAAO,CAC3B,CAAG,CAEH,CAAC,EAED,MAAMU,EAAgBG,GACbA,EAAK,OAAO,CAACC,EAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAKP,EAAO;AAAA;AAAA,0CAEtEC;AAAA;AAAA;AAAA,qBAGrBC;AAAA,qBACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOFC;AAAA;AAAA;AAAA;AAAA,mBAIAC;AAAA;AAAA;AAAA;AAAA,mBAIAC;AAAA;AAAA;AAAA;AAAA,mBAIAC;AAAA;AAAA;AAAA,eAGH,EAAE"}