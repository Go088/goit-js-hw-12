{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport axios from \"axios\";\n\nconst form = document.querySelector(\".form\")\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nloader.style.display = \"none\";\n\nconst getImages = (searchTerm) => {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"41530032-c682b7302a1559a8b9f540776\";\n\n    const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchTerm,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n})\n  axios.get(`${BASE_URL}?${searchParams}`)\n  \t.then(response => {\n      console.log(response.data.hits);\n      return response.data.hits;\n\t})\n\t.catch(error => {\n\t\tconsole.log(error);\n  })\n\n};\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  gallery.innerHTML = \"\";\n  loader.style.display = \"inline-block\";\n\n  const inputValue = event.target.elements.search.value;\n\n  getImages(inputValue)\n    .then(response => {\n      loader.style.display = \"none\";\n\n      if (!response.hits.length) {\n        iziToast.error({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\",\n          messageSize: \"11\",\n          backgroundColor: \"#EF4040\",\n          messageColor: \"#FFF\"\n});\n      }\n      gallery.innerHTML = createMarkup(response.hits);\n      \n      let galleryPage = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      galleryPage.refresh();\n\n      form.reset();\n    }\n)\n    .catch((error) => {\n      loader.style.display = \"none\";\n      console.error(\"Error\");\n  })\n\n})\n\nconst createMarkup = (hits) => {\n  return hits.reduce((html, { largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => html + `\n            <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n              width=\"360\"\n            />\n          </a>\n          <div class=\"info\">\n            <div class=\"info-item\">\n              <h2>Likes</h2>\n              <p>${likes}</p>\n            </div>\n            <div class=\"info-item\">\n              <h2>Views</h2>\n              <p>${views}</p>\n            </div>\n            <div class=\"info-item\">\n              <h2>Comments</h2>\n              <p>${comments}</p>\n            </div>\n            <div class=\"info-item\">\n              <h2>Downloads</h2>\n              <p>${downloads}</p>\n            </div>\n          </div>\n        </li>`, \"\");\n}\n"],"names":["form","gallery","loader","getImages","searchTerm","BASE_URL","API_KEY","searchParams","axios","response","error","event","inputValue","iziToast","createMarkup","SimpleLightbox","hits","html","largeImageURL","webformatURL","tags","likes","views","comments","downloads"],"mappings":"owBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvB,MAAMC,EAAaC,GAAe,CAC9B,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAe,IAAI,gBAAgB,CACzC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EACCI,EAAM,IAAI,GAAGH,KAAYE,GAAc,EACrC,KAAKE,IACH,QAAQ,IAAIA,EAAS,KAAK,IAAI,EACvBA,EAAS,KAAK,KACzB,EACA,MAAMC,GAAS,CACf,QAAQ,IAAIA,CAAK,CACnB,CAAG,CAEH,EAEAV,EAAK,iBAAiB,SAAWW,GAAU,CACzCA,EAAM,eAAc,EACpBV,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,eAEvB,MAAMU,EAAaD,EAAM,OAAO,SAAS,OAAO,MAEhDR,EAAUS,CAAU,EACjB,KAAKH,GAAY,CAChBP,EAAO,MAAM,QAAU,OAElBO,EAAS,KAAK,QACjBI,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,YAAa,KACb,gBAAiB,UACjB,aAAc,MACxB,CAAC,EAEKZ,EAAQ,UAAYa,EAAaL,EAAS,IAAI,EAE5B,IAAIM,EAAe,aAAc,CACjD,SAAU,GACV,aAAc,MACd,aAAc,GACtB,CAAO,EACW,QAAO,EAEnBf,EAAK,MAAK,CACX,CACL,EACK,MAAOU,GAAU,CAChBR,EAAO,MAAM,QAAU,OACvB,QAAQ,MAAM,OAAO,CAC3B,CAAG,CAEH,CAAC,EAED,MAAMY,EAAgBE,GACbA,EAAK,OAAO,CAACC,EAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAKP,EAAO;AAAA;AAAA,0CAEtEC;AAAA;AAAA;AAAA,qBAGrBC;AAAA,qBACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOFC;AAAA;AAAA;AAAA;AAAA,mBAIAC;AAAA;AAAA;AAAA;AAAA,mBAIAC;AAAA;AAAA;AAAA;AAAA,mBAIAC;AAAA;AAAA;AAAA,eAGH,EAAE"}